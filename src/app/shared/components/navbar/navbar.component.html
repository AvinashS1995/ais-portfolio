<nav class="fixed top-0 left-0 w-full z-50 flex justify-center transition-all duration-300" [ngClass]="{
    'py-3 bg-black/90 border-b border-gray-800 shadow-lg backdrop-blur-md': isScrolled,
    'py-4 bg-black/90 border-b border-gray-800 shadow-lg backdrop-blur-md': !isScrolled
  }">
  <div
    class="relative flex items-center justify-between w-[90%] md:w-[80%] bg-[#111]/90 border border-gray-700 rounded-full px-6 py-3">

    <!-- Left Menu -->
    <div class="hidden md:flex items-center space-x-8" *ngIf="!isAdmin">
      <a *ngFor="let link of navLinks.slice(0, 3)" [routerLink]="link.path" [ngClass]="
          isActive(link.path)
            ? 'bg-[#f58b49] text-white font-semibold px-4 py-2 rounded-full hover:scale-105 transition'
            : 'text-gray-400 hover:text-[#f58b49] transition'
        " class="cursor-pointer">
        {{ link.label }}
      </a>
    </div>

    <!-- Logo -->
    <a routerLink="/" class="text-[#f58b49] font-extrabold text-3xl tracking-wide hover:scale-105 transition">
      AIS
    </a>

    <!-- Right Menu -->
    <div class="hidden md:flex items-center space-x-6">

      <!-- When Admin Logged In -->
      <ng-container *ngIf="isAdmin; else showNavLinks">
        <div class="relative">
          <img src="assets/images/default-profile.png" alt="Profile" (click)="toggleProfileMenu()"
            class="w-10 h-10 rounded-full border border-gray-600 cursor-pointer hover:scale-105 transition" />

          <div *ngIf="isProfileOpen"
            class="absolute right-0 mt-3 w-52 bg-[#1c1c1c] border border-gray-700 rounded-xl shadow-xl py-2 animate-fadeIn">
            <button class="menu-item">Profile</button>
            <div class="border-t border-gray-700 my-2"></div>
            <button class="menu-item text-red-400 hover:text-red-500" (click)="logout()">
              Logout
            </button>
          </div>
        </div>
      </ng-container>

      <!-- When Not Admin -->
      <ng-template #showNavLinks>
        <ng-container>
          <a *ngFor="let link of navLinks.slice(3)" [routerLink]="link.path" [ngClass]="
              isActive(link.path)
                ? 'bg-[#f58b49] text-white font-semibold px-4 py-2 rounded-full hover:scale-105 transition'
                : 'text-gray-400 hover:text-[#f58b49] transition'
            " class="cursor-pointer">
            {{ link.label }}
          </a>

          <a routerLink="/admin/login" [ngClass]="
    isActive('/admin/login')
      ? 'bg-[#f58b49] text-white font-semibold px-4 py-2 rounded-full hover:scale-105 transition'
      : 'text-gray-400 hover:text-[#f58b49] transition'
  " class="cursor-pointer">
            Admin
          </a>

        </ng-container>
      </ng-template>
    </div>

    <!-- Mobile Toggle -->
    <button (click)="toggleMenu()" class="md:hidden text-gray-400 hover:text-white transition">
      <i *ngIf="!isMenuOpen" class="fa-solid fa-bars text-xl"></i>
      <i *ngIf="isMenuOpen" class="fa-solid fa-xmark text-xl"></i>
    </button>
  </div>

  <!-- Mobile Menu -->
  <div *ngIf="isMenuOpen"
    class="absolute top-[80px] left-0 w-full bg-[#111] border-t border-gray-700 py-4 z-50 md:hidden">
    <ul class="flex flex-col items-center space-y-4">
      <ng-container *ngIf="!isAdmin">
        <li *ngFor="let link of navLinks">
          <a [routerLink]="link.path" (click)="closeMenu()" [ngClass]="
              isActive(link.path)
                ? 'bg-[#f58b49] text-white font-semibold px-4 py-2 rounded-full hover:scale-105 transition'
                : 'text-gray-400 hover:text-[#f58b49] transition'
            " class="cursor-pointer">
            {{ link.label }}
          </a>
        </li>

        <li>
          <a routerLink="/admin/login" (click)="closeMenu()" [ngClass]="
    isActive('/admin/login')
      ? 'bg-[#f58b49] text-white font-semibold px-4 py-2 rounded-full hover:scale-105 transition'
      : 'text-gray-400 hover:text-[#f58b49] transition'
  " class="cursor-pointer">
            Admin
          </a>

        </li>
      </ng-container>

      <ng-container *ngIf="isAdmin">
         <li>
           <button class="menu-item">Profile</button>
        </li>
        <li>
          <button
            class="menu-item text-red-400 hover:text-red-500"
            (click)="logout(); closeMenu()">
            Logout
          </button>
        </li>
      </ng-container>
    </ul>
  </div>
</nav>