<nav
  class="fixed top-0 left-0 w-full z-50 flex justify-center transition-all duration-300"
  [ngClass]="{
    'py-3 bg-black/90 border-b border-gray-800 shadow-lg backdrop-blur-md': isScrolled,
    'py-4 bg-black/90 border-b border-gray-800 shadow-lg backdrop-blur-md': !isScrolled
  }"
>
  <div
    class="relative flex items-center justify-between w-[90%] md:w-[80%] bg-[#111]/90 border border-gray-700 rounded-full px-6 py-3"
  >
    <!-- Left Menu -->
    <div class="hidden md:flex items-center space-x-8">
      <a
        *ngFor="let link of navLinks.slice(0, 3)"
        [routerLink]="link.path"
        class="text-gray-400 hover:text-[#f58b49] transition-colors duration-300 relative"
        [ngClass]="{ 'text-[#f58b49]': isActive(link.path) }"
      >
        {{ link.label }}
        <span
          *ngIf="isActive(link.path)"
          class="absolute -bottom-1 left-0 w-full h-[2px] bg-[#f58b49]"
        ></span>
      </a>
    </div>

    <!-- Center Logo -->
    <a
      routerLink="/"
      class="text-[#f58b49] font-extrabold text-3xl tracking-wide hover:scale-105 transition-transform"
    >
      AIS
    </a>

    <!-- Right Menu -->
    <div class="hidden md:flex items-center space-x-6">
      <a
        *ngFor="let link of navLinks.slice(3)"
        [routerLink]="link.path"
        class="text-gray-400 hover:text-[#f58b49] transition-colors duration-300 relative"
        [ngClass]="{ 'text-[#f58b49]': isActive(link.path) }"
      >
        {{ link.label }}
        <span
          *ngIf="isActive(link.path)"
          class="absolute -bottom-1 left-0 w-full h-[2px] bg-[#f58b49]"
        ></span>
      </a>
    </div>

    <!-- Mobile Menu Toggle -->
    <button
      (click)="toggleMenu()"
      class="md:hidden text-gray-400 hover:text-white focus:outline-none transition"
    >
      <i *ngIf="!isMenuOpen" class="fa-solid fa-bars text-xl"></i>
      <i *ngIf="isMenuOpen" class="fa-solid fa-xmark text-xl"></i>
    </button>
  </div>

  <!-- Admin Button -->
  <ng-container *ngIf="!isAdmin; else logoutBtn">
    <a
      routerLink="/admin/login"
      class="absolute right-[2%] top-1/2 -translate-y-1/2 flex items-center space-x-2 text-white px-4 py-2 rounded-full font-semibold shadow-md hover:shadow-lg hover:bg-[#f58b49] hover:scale-105 transition transform md:flex hidden"
    >
      <i class="fa-solid fa-lock text-sm"></i>
      <span>Admin</span>
    </a>
  </ng-container>

  <ng-template #logoutBtn>
    <button
      (click)="logout()"
      class="absolute right-[2%] top-1/2 -translate-y-1/2 flex items-center space-x-2 text-white px-4 py-2 rounded-full font-semibold shadow-md hover:shadow-lg hover:bg-red-600 hover:scale-105 transition transform md:flex hidden"
    >
      <i class="fa-solid fa-right-from-bracket text-red-400 text-sm"></i>
      <span>Logout</span>
    </button>
  </ng-template>

  <!-- Mobile Menu -->
  <div
    *ngIf="isMenuOpen"
    class="absolute top-[80px] left-0 w-full bg-[#111] border-t border-gray-700 py-4 z-50 md:hidden"
  >
    <ul class="flex flex-col items-center space-y-4">
      <li *ngFor="let link of navLinks">
        <a
          [routerLink]="link.path"
          (click)="closeMenu()"
          class="text-gray-400 hover:text-[#f58b49] transition-colors"
          [ngClass]="{ 'text-[#f58b49]': isActive(link.path) }"
        >
          {{ link.label }}
        </a>
      </li>

      <li>
        <ng-container *ngIf="!isAdmin; else mobileLogout">
          <a
            routerLink="/admin/login"
            (click)="closeMenu()"
            class="flex items-center space-x-2 text-white px-4 py-2 rounded-full font-semibold hover:bg-[#f58b49] hover:scale-105 transition transform"
          >
            <i class="fa-solid fa-lock text-sm"></i>
            <span>Admin</span>
          </a>
        </ng-container>

        <ng-template #mobileLogout>
          <button
            (click)="logout(); closeMenu()"
            class="flex items-center space-x-2 text-white border border-gray-700 px-4 py-2 rounded-lg font-semibold hover:bg-[#1a1a1a] hover:border-red-500 hover:text-red-400 transition"
          >
            <i class="fa-solid fa-right-from-bracket text-red-400 text-sm"></i>
            <span>Logout</span>
          </button>
        </ng-template>
      </li>
    </ul>
  </div>
</nav>
